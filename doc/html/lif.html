

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>lif module &mdash; call-time-model  documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/p_theme.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="p_analysis module" href="p_analysis.html" />
    <link rel="prev" title="fig_ms module" href="fig_ms.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> call-time-model
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="config_files.html">Config Files</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">Modules</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="run_all.html">run_all module</a></li>
<li class="toctree-l2"><a class="reference internal" href="fig_ms.html">fig_ms module</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">lif module</a></li>
<li class="toctree-l2"><a class="reference internal" href="p_analysis.html">p_analysis module</a></li>
<li class="toctree-l2"><a class="reference internal" href="p_input.html">p_input module</a></li>
<li class="toctree-l2"><a class="reference internal" href="p_io.html">p_io module</a></li>
<li class="toctree-l2"><a class="reference internal" href="p_macro.html">p_macro module</a></li>
<li class="toctree-l2"><a class="reference internal" href="p_plot.html">p_plot module</a></li>
<li class="toctree-l2"><a class="reference internal" href="p_util.html">p_util module</a></li>
</ul>
</li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">call-time-model</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="modules.html">Modules</a> &raquo;</li>
        
      <li>lif module</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/lif.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-lif">
<span id="lif-module"></span><h1>lif module<a class="headerlink" href="#module-lif" title="Permalink to this headline">¶</a></h1>
<p>Main function for running simulations of spiking network models using brian2, based on equations and parameters
pulled from .json config files. Main function: run_simulation(). [call-time-model]</p>
<dl class="py function">
<dt id="lif.is_not_worth_saving">
<code class="sig-prename descclassname"><span class="pre">lif.</span></code><code class="sig-name descname"><span class="pre">is_not_worth_saving</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">spikemon</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">statemon</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">info</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">config</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lif.html#is_not_worth_saving"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lif.is_not_worth_saving" title="Permalink to this definition">¶</a></dt>
<dd><p>Check certain conditions for whether to save the ouput of the current simulation, based on some of its results.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>spikemon</strong> (<em>dict</em>) – dict containing SpikeMonitor data from b2…get_states()</p></li>
<li><p><strong>statemon</strong> (<em>dict</em>) – dict containing StateMonitor data from b2…get_states()</p></li>
<li><p><strong>info</strong> (<em>dict</em>) – dictionary containing additional information about simulation (as created by run_simulation())</p></li>
<li><p><strong>config</strong> (<em>dict</em>) – dictionary of model parameters, as loaded from .json configuration file</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>conditions_not_met: list of indices of conditions not met (if any)</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>conditions_not_met: list</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="lif.run_multiprocess">
<code class="sig-prename descclassname"><span class="pre">lif.</span></code><code class="sig-name descname"><span class="pre">run_multiprocess</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">configs_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename_out_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">log_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">run_id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sim_time_ms</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">clock_dt_ms</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.02</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">input_spiketimes_ms</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">b_verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">batch_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">recorded_variables</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'v'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">recording_start_ms</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">b_save_all</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lif.html#run_multiprocess"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lif.run_multiprocess" title="Permalink to this definition">¶</a></dt>
<dd><p>Run multiple simulations in parallel. Takes a list of configs and ouput filenames and runs simulations based on
each config in parallel using multiprocessing.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>model_name</strong> (<em>str</em>) – filename of parameter config file (ending .json can be omitted from string). config will not be
loaded from this file, but from the configs in configs_list below.</p></li>
<li><p><strong>configs_list</strong> (<em>list</em>) – list of config dictionaries, one dict per simulation to be run in parallel</p></li>
<li><p><strong>filename_out_list</strong> (<em>list</em>) – list of filenames for the output .pkl files.</p></li>
<li><p><strong>log_name</strong> (<em>str</em><em> or </em><em>None</em>) – see run_simulation() in this module</p></li>
<li><p><strong>run_id</strong> (<em>int</em>) – see run_simulation() in this module</p></li>
<li><p><strong>sim_time_ms</strong> (<em>int</em><em> or </em><em>None</em>) – see run_simulation() in this module</p></li>
<li><p><strong>clock_dt_ms</strong> (<em>float</em>) – see run_simulation() in this module</p></li>
<li><p><strong>input_spiketimes_ms</strong> (<em>[</em><em>[</em><em>[</em><em>float</em><em>]</em><em>]</em><em>] or </em><em>None</em>) – see run_simulation() in this module</p></li>
<li><p><strong>b_verbose</strong> (<em>bool</em><em> or </em><em>int</em>) – see run_simulation() in this module</p></li>
<li><p><strong>batch_size</strong> (<em>int</em><em> or </em><em>None</em>) – number of processes (simulations) to run in a batch. None: no batching</p></li>
<li><p><strong>recorded_variables</strong> (<em>str</em><em> or </em><em>tuple</em>) – (tuple of) name(s) of the variable(s) to be recorded in StateMonitor and saved to .pkl</p></li>
<li><p><strong>recording_start_ms</strong> (<em>float</em><em> or </em><em>int</em>) – [default=0] start recording spikes and states at this timepoint into the simulation</p></li>
<li><p><strong>b_save_all</strong> (<em>bool</em><em> or </em><em>int</em>) – if True, saving_conditions will be ignored, i.e. an ouput .pkl file saved for every sim run.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="lif.run_simulation">
<code class="sig-prename descclassname"><span class="pre">lif.</span></code><code class="sig-name descname"><span class="pre">run_simulation</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">config_preloaded</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">log_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">run_id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sim_time_ms</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">clock_dt_ms</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.02</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">input_spiketimes_ms</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename_out_arg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">recorded_variables</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'v'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">recording_start_ms</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">b_always_save_output</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">b_verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lif.html#run_simulation"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lif.run_simulation" title="Permalink to this definition">¶</a></dt>
<dd><p>Run a simulation using this model with the parameters supplied by a .json config file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>model_name</strong> (<em>str</em>) – filename of parameter config file (ending .json can be omitted from string)</p></li>
<li><p><strong>config_preloaded</strong> (<em>None</em><em> or </em><em>dict</em>) – if a config dictionary is supplied here, this will be used to run the simulation, instead
of loading a config from the .json file indicated by model_name</p></li>
<li><p><strong>log_name</strong> (<em>str</em><em> or </em><em>None</em>) – [default=None] name of logger object (standard python logging). if None, a logger will be created
for console output only</p></li>
<li><p><strong>run_id</strong> (<em>int</em>) – [default=0] integer id used to identify this run with corresponding log files</p></li>
<li><p><strong>sim_time_ms</strong> (<em>int</em><em> or </em><em>None</em>) – [default=None] duration of simulation in milliseconds. if None: load from config file</p></li>
<li><p><strong>clock_dt_ms</strong> (<em>float</em>) – [default=0.02] simulation time step in milliseconds, between 0 and (including) 1</p></li>
<li><p><strong>input_spiketimes_ms</strong> (<em>[</em><em>[</em><em>[</em><em>float</em><em>]</em><em>]</em><em>] or </em><em>None</em>) – [default=None] list of list(s) of list(s) of spiketimes to be used as input onto model
neurons using SpikeGeneratorGroups. Each sublist corresponds to a population that acts as input on the
respective model neuron population if n_generators == n_populations. If n_generators &gt; 1 and n_populations == 1,
then all generators connect to the population. Each subsublist contains all spiketimes of one generator neuron.
Condition for connections from generators to neurons can be set in config[‘generator’][‘condition’]</p></li>
<li><p><strong>filename_out_arg</strong> (<em>None</em><em> or </em><em>str</em>) – [default=None] optional filename for output .pkl file. if None, this is handled by
p_io.load_config()</p></li>
<li><p><strong>recorded_variables</strong> (<em>str</em><em> or </em><em>tuple</em>) – (tuple of) name(s) of the variable(s) to be recorded in StateMonitor and saved to .pkl</p></li>
<li><p><strong>recording_start_ms</strong> (<em>float</em><em> or </em><em>int</em>) – [default=0] start recording spikes and states at this timepoint into the simulation</p></li>
<li><p><strong>b_always_save_output</strong> (<em>bool</em>) – if False, run is_worth_saving to check a certain condition for saving output to .pkl</p></li>
<li><p><strong>b_verbose</strong> (<em>bool</em><em> or </em><em>int</em>) – [default=False] if True, additional information is output during the run</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p>filename_out: filename for output .pkl file</p></li>
<li><p>conditions_not_met: list of indices of conditions not met (if any)</p></li>
</ul>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><ul class="simple">
<li><p>filename_out: str</p></li>
<li><p>conditions_not_met: list</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="lif.unwrap_arguments">
<code class="sig-prename descclassname"><span class="pre">lif.</span></code><code class="sig-name descname"><span class="pre">unwrap_arguments</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">argument_list</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lif.html#unwrap_arguments"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lif.unwrap_arguments" title="Permalink to this definition">¶</a></dt>
<dd><p>Unwraps a list of arguments and calls run_simulation with the individual arguments contained in the list</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>argument_list</strong> (<em>list</em>) – list of arguments to be passed to function</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>returns a list of the return value(s) of run_simulation (if any), or an exception if one got raised</p>
</dd>
</dl>
</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="p_analysis.html" class="btn btn-neutral float-right" title="p_analysis module" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="fig_ms.html" class="btn btn-neutral float-left" title="fig_ms module" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2019, Philipp Norton.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>